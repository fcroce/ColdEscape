import{au as a,a6 as u,a7 as p}from"./index-BKX_SAiS.js";import{G as f}from"./glTFLoader-B7_AMTvd.js";import"./glTFLoaderAnimation-DQnBhtdO.js";const s="MSFT_sRGBFactors";class l{constructor(r){this.name=s,this._loader=r,this.enabled=this._loader.isExtensionUsed(s)}dispose(){this._loader=null}loadMaterialPropertiesAsync(r,t,e){return f.LoadExtraAsync(r,t,this.name,(n,c)=>{if(c){if(!(e instanceof a))throw new Error(`${n}: Material type not supported`);const d=this._loader.loadMaterialPropertiesAsync(r,t,e),i=e.getScene().getEngine().useExactSrgbConversions;return e.albedoTexture||e.albedoColor.toLinearSpaceToRef(e.albedoColor,i),e.reflectivityTexture||e.reflectivityColor.toLinearSpaceToRef(e.reflectivityColor,i),d}return null})}}u(s);p(s,!0,o=>new l(o));export{l as MSFT_sRGBFactors};
