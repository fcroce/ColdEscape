import{G as i,A as m}from"./glTFLoader-ByvCw6gE.js";import{a9 as u,a6 as h,a7 as p}from"./index-CWTGLy4c.js";import"./glTFLoaderAnimation-CmPfdntV.js";const r="EXT_meshopt_compression";class d{constructor(t){this.name=r,this.enabled=t.isExtensionUsed(r),this._loader=t}dispose(){this._loader=null}loadBufferViewAsync(t,a){return i.LoadExtensionAsync(t,a,this.name,(c,e)=>{const s=a;if(s._meshOptData)return s._meshOptData;const f=m.Get(`${t}/buffer`,this._loader.gltf.buffers,e.buffer);return s._meshOptData=this._loader.loadBufferAsync(`/buffers/${f.index}`,f,e.byteOffset||0,e.byteLength).then(n=>u.Default.decodeGltfBufferAsync(n,e.count,e.byteStride,e.mode,e.filter)),s._meshOptData})}}h(r);p(r,!0,o=>new d(o));export{d as EXT_meshopt_compression};
