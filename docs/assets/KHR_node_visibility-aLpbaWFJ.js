import{a6 as b,a7 as _}from"./index-CWTGLy4c.js";const e="KHR_node_visibility";class f{constructor(s){this.name=e,this._loader=s,this.enabled=s.isExtensionUsed(e)}async onReady(){var s;(s=this._loader.gltf.nodes)==null||s.forEach(i=>{var o,a,r,l;(o=i._primitiveBabylonMeshes)==null||o.forEach(t=>{t.inheritVisibility=!0}),(a=i.extensions)!=null&&a.KHR_node_visibility&&((r=i.extensions)==null?void 0:r.KHR_node_visibility.visible)===!1&&(i._babylonTransformNode&&(i._babylonTransformNode.isVisible=!1),(l=i._primitiveBabylonMeshes)==null||l.forEach(t=>{t.isVisible=!1}))})}dispose(){this._loader=null}}b(e);_(e,!0,n=>new f(n));export{f as KHR_node_visibility};
